{"version":3,"sources":["webpack:///./node_modules/array-find/find.js","webpack:///./node_modules/vux/src/mixins/uuid.js","webpack:///./node_modules/vux/src/components/selector/index.vue","webpack:///./node_modules/vux/src/components/selector/index.vue?7ebf","webpack:///./node_modules/vux/src/components/selector/index.vue?849e","webpack:///./src/components/goodsManage/GoodsAdd.vue","webpack:///./src/components/goodsManage/GoodsAdd.vue?502c","webpack:///./src/components/goodsManage/GoodsAdd.vue?8dbf"],"names":["module","exports","array","predicate","context","Array","prototype","find","this","i","length","TypeError","call","uuid","created","Math","random","toString","substring","components_selector","cleanStyle","String","Boolean","Number","Object","name","mixins","uuidMixin","value","currentValue","beforeMount","isIOS","test","window","navigator","userAgent","computed","fixIos","placeholder","isEmptyValue","title","color","showPlaceholder","processOptions","_this","options","isObject","typeof_default","valueMap","map","item","key","labelClass","$parent","vux-cell-justify","labelAlign","methods","val","getFullValue","_this2","filter","one","filters","findByKey","_rs","watch","$emit","props","direction","type","required","readonly","validator","data","src_components_selector","render","_vm","_h","$createElement","_c","_self","staticClass","class","weui-cell_select","weui-cell_select-after","style","width","labelWidth","textAlign","marginRight","labelMarginRight","attrs","for","domProps","innerHTML","_s","_e","_v","_f","directives","rawName","expression","id","on","change","$event","$$selectedVal","target","o","selected","_value","multiple","disabled","_l","staticRenderFns","vux_src_components_selector","__webpack_require__","normalizeComponent","ssrContext","goodsManage_GoodsAdd","TransferDom","Previewer","VueCoreImageUpload","XInput","Group","XSwitch","components","Selector","params","imageList","goodsAttrItemDto","goodsAttrInfo","goodsClassInfo","merchantId","typeId","refundFlagValue","price","stock","goodsType","specsList","specsDataList","goodsTypeList","list","defaultValue","images","previewList","uploadUrl","getThumbBoundsFn","index","thumbnail","document","querySelectorAll","pageYScroll","pageYOffset","documentElement","scrollTop","rect","getBoundingClientRect","x","left","y","top","w","getNextStep","flag","specsValue","child","attrValue","push","url","refundFlag","isSelected","findIndex","obj","objIndex","attrId","attrName","attrValueInfo","$vux","loading","show","text","$http","fetchPost","then","res","fetchGet","goodsId","request","hide","param","goodsSkuInfo","memberPrice","req","code","$router","query","toast","message","position","getPriceInfo","$route","addChildValue","deleteChildValue","parentIndex","childIndex","splice","addSpecial","specsName","deleteSpecs","specsChange","_this3","isReadonly","getBaseInfo","_this4","setTimeout","childList","console","log","deletePic","$refs","previewer","imageuploaded","imagechanged","_this5","FormData","append","headers","Content-Type","path","src","msrc","getBack","go","$store","state","components_goodsManage_GoodsAdd","size","xmlns","height","viewBox","click","d","_m","alt","crop","isXhr","inputAccept","max-file-size","staticStyle","margin-top","model","callback","$$v","$set","ref","value-map","textContent","margin-left","GoodsAdd_Component","GoodsAdd_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/12.cb3dbd73b8bf02910b51.js","sourcesContent":["'use strict';\n\nfunction find(array, predicate, context) {\n  if (typeof Array.prototype.find === 'function') {\n    return array.find(predicate, context);\n  }\n\n  context = context || this;\n  var length = array.length;\n  var i;\n\n  if (typeof predicate !== 'function') {\n    throw new TypeError(predicate + ' is not a function');\n  }\n\n  for (i = 0; i < length; i++) {\n    if (predicate.call(context, array[i], i, array)) {\n      return array[i];\n    }\n  }\n}\n\nmodule.exports = find;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/array-find/find.js\n// module id = NXHL\n// module chunks = 1 12","export default {\n  created () {\n    this.uuid = Math.random().toString(36).substring(3, 8)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vux/src/mixins/uuid.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport find from 'array-find'\nimport uuidMixin from '../../mixins/uuid'\nimport cleanStyle from '../../libs/clean-style'\n\nconst findByKey = function (key, options) {\n  const _rs = find(options, function (item) {\n    return item.key === key\n  })\n  return _rs ? _rs.value : key\n}\n\nexport default {\n  name: 'selector',\n  mixins: [uuidMixin],\n  created () {\n    if (typeof this.value !== 'undefined') {\n      this.currentValue = this.value\n    }\n  },\n  beforeMount () {\n    this.isIOS = /iPad|iPhone|iPod/.test(window.navigator.userAgent)\n  },\n  computed: {\n    fixIos () {\n      return !this.placeholder && this.isEmptyValue(this.value) && this.isIOS && this.title\n    },\n    color () {\n      return this.showPlaceholder ? '#A9A9A9' : ''\n    },\n    processOptions () {\n      if (!this.options.length) {\n        return []\n      }\n\n      const isObject = typeof this.options[0] === 'object'\n\n      if (isObject && !this.valueMap) {\n        return this.options\n      }\n\n      if (isObject && this.valueMap) {\n        return this.options.map(item => {\n          return {\n            key: item[this.valueMap[0]],\n            value: item[this.valueMap[1]]\n          }\n        })\n      }\n\n      return this.options.map(function (item) {\n        return {\n          key: item,\n          value: item\n        }\n      })\n    },\n    showPlaceholder () {\n      if (this.isEmptyValue(this.value) && this.placeholder) {\n        return true\n      }\n      return false\n    },\n    labelClass () {\n      if (!this.$parent) return {}\n      return {\n        'vux-cell-justify': this.$parent.labelAlign === 'justify' || this.$parent.$parent.labelAlign === 'justify'\n      }\n    }\n  },\n  methods: {\n    isEmptyValue (val) {\n      return typeof val === 'undefined' || val === '' || val === null\n    },\n    cleanStyle,\n    getFullValue () {\n      if (!this.value) {\n        return null\n      }\n      if (!this.options.length) {\n        return null\n      }\n      if (typeof this.options[0] !== 'object') {\n        return this.value\n      } else {\n        if (!this.valueMap) {\n          return this.options.filter(one => one.key === this.value)\n        } else {\n          return this.options.filter(one => one[this.valueMap[0]] === this.value)\n        }\n      }\n    }\n  },\n  filters: {\n    findByKey\n  },\n  watch: {\n    value (val) {\n      this.currentValue = val\n    },\n    currentValue (val) {\n      this.$emit('input', val)\n      this.$emit('on-change', val)\n    }\n  },\n  props: {\n    title: String,\n    direction: String,\n    options: {\n      type: Array,\n      required: true\n    },\n    name: String,\n    placeholder: String,\n    readonly: Boolean,\n    value: [String, Number, Object, Boolean],\n    valueMap: {\n      type: Array,\n      validator (val) {\n        if (!val.length || val.length !== 2) {\n          if (process.env.NODE_ENV === 'development') {\n            console.error('[VUX error] selector prop:valueMap\\'s length should be 2')\n          }\n          return false\n        }\n        return true\n      }\n    }\n  },\n  data () {\n    return {\n      currentValue: '',\n      isIOS: false\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vux/src/components/selector/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vux-selector weui-cell\",class:{\n    'weui-cell_select': !_vm.readonly,\n    'weui-cell_select-after': _vm.title\n  }},[(_vm.title)?_c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\",class:_vm.labelClass,style:(_vm.cleanStyle({\n        width: _vm.$parent.labelWidth,\n        textAlign: _vm.$parent.labelAlign,\n        marginRight: _vm.$parent.labelMarginRight\n      })),attrs:{\"for\":(\"vux-selector-\" + _vm.uuid)},domProps:{\"innerHTML\":_vm._s(_vm.title)}})]):_vm._e(),_vm._v(\" \"),(!_vm.readonly)?_c('div',{staticClass:\"weui-cell__bd\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentValue),expression:\"currentValue\"}],staticClass:\"weui-select\",style:(_vm.cleanStyle({\n        direction: _vm.direction,\n        color: _vm.color\n      })),attrs:{\"id\":(\"vux-selector-\" + _vm.uuid),\"name\":_vm.name},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[(_vm.showPlaceholder)?_c('option',{domProps:{\"value\":_vm.value === null ? 'null' : '',\"selected\":_vm.isEmptyValue(_vm.value) && !!_vm.placeholder}},[_vm._v(_vm._s(_vm.placeholder))]):_vm._e(),_vm._v(\" \"),(_vm.fixIos)?_c('option',{attrs:{\"disabled\":\"\"}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.processOptions),function(one){return _c('option',{domProps:{\"value\":one.key}},[_vm._v(_vm._s(_vm.direction === 'rtl' ? one.value + '‎' : one.value))])})],2)]):_c('div',{staticClass:\"weui-cell__ft vux-selector-readonly\"},[_vm._v(\"\\n    \"+_vm._s(_vm._f(\"findByKey\")(_vm.value,_vm.processOptions))+\"\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bb20de40\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/vux/src/components/selector/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bb20de40\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../../vux-loader/src/style-loader.js!../../../../vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../vux-loader/src/script-loader.js!../../../../vux-loader/src/script-loader.js!../../../../vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../vux-loader/src/script-loader.js!../../../../vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bb20de40\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../vux-loader/src/before-template-compiler-loader.js!../../../../vux-loader/src/template-loader.js!../../../../vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vux/src/components/selector/index.vue\n// module id = null\n// module chunks = ","\nimport VueCoreImageUpload from 'vue-core-image-upload'\nimport Previewer from 'vux/src/components/previewer/index.vue'\nimport TransferDom from 'vux/src/directives/transfer-dom/index.js'\nimport XInput from 'vux/src/components/x-input/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport Selector from 'vux/src/components/selector/index.vue'\nimport XSwitch from 'vux/src/components/x-switch/index.vue'\n\nexport default {\nname: 'goodsAdd',\ndirectives: {\nTransferDom\n},\ncomponents: {\nPreviewer,\nVueCoreImageUpload,\nXInput,\nGroup,\nSelector,\nXSwitch\n},\ndata () {\nreturn {\nparams: {\nimageList: [],\ngoodsAttrItemDto: [],\ngoodsAttrInfo: [], // 商品规格\ngoodsClassInfo: [], // 商品类型\nid: '', // 记录id\nmerchantId: '', // 商户id\ntitle: '', // 标题\ntypeId: '', // 类型id\nrefundFlagValue: true, // 是否支持退款\nprice: '', // 成本价\nstock: '' \n},\ngoodsType: '', // 商品类型\nspecsList: [],\nspecsDataList: [], // 商品规格操作数据\ngoodsTypeList: [],\nlist: [{key: 'gd', value: '广东'}, {key: 'gx', value: '广西'}],\ndefaultValue: '',\nvalue: '',\nimages: [],\npreviewList: [],\nuploadUrl: 'http://zayzsh.zbtdvip.com/api/merchant/good/add/goods/baseInfo',\noptions: {\ngetThumbBoundsFn (index) {\n\nlet thumbnail = document.querySelectorAll('.previewer-demo-img')[index]\n\nlet pageYScroll = window.pageYOffset || document.documentElement.scrollTop\n\n\nlet rect = thumbnail.getBoundingClientRect()\n\nreturn {x: rect.left, y: rect.top + pageYScroll, w: rect.width}\n\n\n}\n}\n}\n},\nmethods: {\ngetNextStep () {\nif (!this.params.title) {\nthis.$vux.toast.show({\ntext: '请输入商品标题',\nposition: 'middle',\ntype: 'warn'\n})\nreturn\n}\nif (!this.params.price) {\nthis.$vux.toast.show({\ntext: '请输入商品成本价',\nposition: 'middle',\ntype: 'warn'\n})\nreturn\n}\nif (!this.params.stock) {\nthis.$vux.toast.show({\ntext: '请输入商品库存',\nposition: 'middle',\ntype: 'warn'\n})\nreturn\n}\nif (!this.goodsType) {\nthis.$vux.toast.show({\ntext: '请选择商品类型',\nposition: 'middle',\ntype: 'warn'\n})\nreturn\n}\nlet flag = true\nthis.specsDataList.map((item) => {\nif (!item.specsValue) {\nflag = false\nreturn\n}\nitem.value.map((child) => {\nif (!child.attrValue) {\nflag = false\n}\n})\n})\nif (!flag) {\nthis.$vux.toast.show({\ntext: '请完善商品规格信息',\nposition: 'middle',\ntype: 'warn'\n})\nreturn\n}\n\nthis.images.map((item) => {\nthis.params.imageList.push({\ntype: 0,\nurl: item\n})\n})\n\nthis.params.refundFlag = this.params.refundFlagValue ? 0 : 1\n\nthis.goodsTypeList.map((item) => {\nif (item.id === this.goodsType) {\nitem.isSelected = 1\nthis.params.goodsClassInfo.push(item)\nthis.params.typeId = item.id\n}\n})\n\nthis.specsDataList.map((item) => {\nthis.specsList.findIndex((obj, objIndex, child) => {\nif (item.specsValue === obj.attrId) {\nthis.params.goodsAttrInfo.push({\nattrId: obj.attrId,\nattrName: obj.attrName,\nattrValueInfo: item.value\n})\n}\n})\n})\nthis.$vux.loading.show({\ntext: '加载中...'\n})\nthis.$http.fetchPost('/merchant/good/add/goods/baseInfo', this.params).then((res) => {\nthis.$http.fetchGet('/merchant/good/get/goods/sku', {goodsId: res.data.data.id}).then((request) => {\nthis.$vux.loading.hide()\nlet param = request.data.data\nparam.goodsSkuInfo[0].memberPrice = this.params.price\nparam.goodsSkuInfo[0].stock = this.params.stock\nthis.$http.fetchPost('/merchant/good/add/goods/sku', param).then((req) => {\nif (req.data.code === 200) {\nthis.$router.push({\nname: 'goodsAddNextStep',\nquery: {\nid: req.data.data.id\n}\n})\n} else {\nthis.$vux.toast.show({\ntext: req.data.message,\nposition: 'middle',\ntype: 'warn'\n})\n}\n})\n})\n})\n},\ngetPriceInfo (id) {\nthis.$http.fetchGet('/merchant/good/get/goods/sku', {goodsId: this.$route.query.id}).then((res) => {\nthis.params.stock = res.data.data.goodsSkuInfo[0].stock || ''\nthis.params.price = res.data.data.goodsSkuInfo[0].memberPrice || ''\n})\n},\naddChildValue (index) {\nthis.specsDataList[index].value.push({val: ''})\n},\ndeleteChildValue (parentIndex, childIndex) {\nthis.specsDataList[parentIndex].value.splice(childIndex, 1)\n},\naddSpecial () {\nif (this.specsDataList.length < this.specsList.length) {\nthis.specsDataList.push({\nspecsName: '',\nspecsValue: '',\nvalue: [{\nval: ''\n}]\n})\n}\n},\ndeleteSpecs (index) {\nthis.specsDataList.splice(index, 1)\nthis.specsChange()\n},\nspecsChange () {\nthis.specsList.map((item) => {\nlet flag = false\nthis.specsDataList.map((child) => {\nif (item.attrId === child.specsValue) {\nflag = true\n}\n})\nitem.isReadonly = flag\n})\n},\ngetBaseInfo () {\nthis.$http.fetchGet('/merchant/good/get/goods/baseInfo', {goodsId: this.$route.query.id}).then((res) => {\nsetTimeout(() => {\nthis.$vux.loading.hide()\n}, 500)\nthis.specsList = res.data.data.goodsAttrItemDto\nthis.specsList.map((item, index) => {\nitem.isReadonly = false\n})\nthis.goodsTypeList = res.data.data.goodsClassInfo\nthis.params.goodsAttrItemDto = res.data.data.goodsAttrItemDto\n\nthis.params.title = res.data.data.title\nres.data.data.refundFlag === 0 ? this.params.refundFlagValue = true : this.params.refundFlagValue = false\nres.data.data.imageList.map((item) => {\nthis.images.push(item.url)\n})\nres.data.data.goodsClassInfo.map((item) => {\nif (item.isSelected === 1) {\nthis.goodsType = item.id\nthis.params.goodsClassInfo.push(item)\n}\n})\nif (res.data.data.goodsAttrInfo.length > 0) {\nres.data.data.goodsAttrInfo.map((item) => {\nlet childList = []\nitem.attrValueInfo.map((child) => {\nchildList.push({\nattrValue: child.attrValue\n})\n})\nconsole.log(item.attrId)\nthis.specsDataList.push({\nspecsName: item.attrName,\nspecsValue: item.attrId,\nvalue: childList\n})\n})\nthis.specsChange()\n} else {\nthis.specsDataList.push({\nspecsName: '',\nspecsValue: '',\nvalue: [{\nattrValue: ''\n}]\n})\n}\n})\n},\ndeletePic (index) {\nthis.images.splice(index, 1)\nthis.previewList.splice(index, 1)\n},\nshow (index) {\nthis.$refs.previewer.show(index)\n},\nimageuploaded (res) {\nconsole.log(res)\n},\nimagechanged (data) {\nlet param = new FormData() \nparam.append('files', data)\nthis.$http.fetchPost('/merchant/common/image/upload', param, {\nheaders: {\n'Content-Type': 'multipart/form-data; boundary=----WebKitFormBoundaryJBcoeGdBCguPERbU'\n}\n}).then((res) => {\nthis.images.push(res.data.data.path)\nthis.previewList.push({\nsrc: res.data.data.path,\nmsrc: res.data.data.path\n})\n})\n},\ngetBack () {\nthis.$router.go(-1)\n}\n},\ncreated () {\nthis.$vux.loading.show({\ntext: '加载中...'\n})\nthis.params.id = this.$route.query.id\nthis.params.merchantId = this.$store.state.merchantId\nthis.getBaseInfo()\nif (this.$route.query.id) {\nthis.getPriceInfo()\n}\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/goodsManage/GoodsAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goodsAdd\"},[_c('div',{staticClass:\"iosHeader vux-1px-b\"},[_c('svg',{staticClass:\"vux-x-icon vux-x-icon-ios-arrow-left left\",attrs:{\"type\":\"ios-arrow-left\",\"size\":\"60\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"60\",\"height\":\"60\",\"viewBox\":\"0 0 512 512\"},on:{\"click\":_vm.getBack}},[_c('path',{attrs:{\"d\":\"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z\"}})]),_vm._v(\" \"),_c('span',[_vm._v(\"添加商品\")])]),_vm._v(\" \"),_c('div',{staticClass:\"goodsAdd_con\"},[_c('div',{staticClass:\"upload\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"imgs\"},[_vm._l((_vm.images),function(item,index){return _c('div',{staticClass:\"pics\"},[_c('img',{staticClass:\"previewer-demo-img uploadPics\",attrs:{\"src\":item,\"alt\":\"\"},on:{\"click\":function($event){return _vm.show(index)}}}),_vm._v(\" \"),_c('span',{staticClass:\"deleteBtn icon iconfont\",on:{\"click\":function($event){return _vm.deletePic(index)}}},[_vm._v(\"\")])])}),_vm._v(\" \"),_c('div',{staticClass:\"pics upload_button\"},[_c('vue-core-image-upload',{class:['btn', 'btn-primary'],attrs:{\"crop\":false,\"isXhr\":false,\"inputAccept\":'image/*',\"max-file-size\":5242880,\"url\":_vm.uploadUrl},on:{\"imageuploaded\":_vm.imageuploaded,\"imagechanged\":_vm.imagechanged}},[_c('div',{staticClass:\"pic_btn\"},[_c('span'),_vm._v(\" \"),_c('span',[_vm._v(\"上传照片\")])])])],1)],2)]),_vm._v(\" \"),_c('div',{staticClass:\"defaultLine\",staticStyle:{\"margin-top\":\"0.2rem\"}},[_c('group',[_c('x-input',{attrs:{\"title\":\"商品标题\",\"placeholder\":\"请输入商品标题\"},model:{value:(_vm.params.title),callback:function ($$v) {_vm.$set(_vm.params, \"title\", $$v)},expression:\"params.title\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"defaultLine\"},[_c('group',[_c('x-input',{attrs:{\"title\":\"商品成本价(元)\",\"placeholder\":\"请输入商品成本价\"},model:{value:(_vm.params.price),callback:function ($$v) {_vm.$set(_vm.params, \"price\", $$v)},expression:\"params.price\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"defaultLine\"},[_c('group',[_c('x-input',{attrs:{\"title\":\"商品库存\",\"placeholder\":\"请输入商品库存\"},model:{value:(_vm.params.stock),callback:function ($$v) {_vm.$set(_vm.params, \"stock\", $$v)},expression:\"params.stock\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"defaultLine\"},[_c('group',[_c('selector',{ref:\"defaultValueRef\",attrs:{\"value-map\":['id','name'],\"placeholder\":\"请选择商品类型\",\"title\":\"商品类型\",\"direction\":\"rtl\",\"options\":_vm.goodsTypeList},model:{value:(_vm.goodsType),callback:function ($$v) {_vm.goodsType=$$v},expression:\"goodsType\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"defaultTitle\"},[_c('span',[_vm._v(\"商品规格\")]),_vm._v(\" \"),(_vm.specsDataList.length < _vm.specsList.length)?_c('span',{staticClass:\"addIcon\",on:{\"click\":_vm.addSpecial}},[_vm._v(\"添加规格项目\")]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.specsDataList),function(item,index){return _c('div',{staticClass:\"specialLine\"},[_c('div',{staticClass:\"selectLine\"},[_c('span',{staticClass:\"tit\"},[_vm._v(\"规格名\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.specsValue),expression:\"item.specsValue\"}],attrs:{\"name\":\"\",\"id\":\"\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"specsValue\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.specsChange]}},_vm._l((_vm.specsList),function(item){return _c('option',{attrs:{\"disabled\":item.isReadonly},domProps:{\"value\":item.attrId,\"textContent\":_vm._s(item.attrName)}})}),0),_vm._v(\" \"),_c('div',{staticClass:\"icon\"},[_c('svg',{staticClass:\"vux-x-icon vux-x-icon-ios-arrow-right\",attrs:{\"type\":\"ios-arrow-right\",\"size\":\"30\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"30\",\"height\":\"30\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"d\":\"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z\"}})])])]),_vm._v(\" \"),_vm._l((item.value),function(child,childIndex){return _c('div',{staticClass:\"defaultLine ggz\"},[_c('group',[_c('x-input',{attrs:{\"title\":\"规格值\",\"placeholder\":\"请输入规格值\"},model:{value:(child.attrValue),callback:function ($$v) {_vm.$set(child, \"attrValue\", $$v)},expression:\"child.attrValue\"}})],1),_vm._v(\" \"),(item.value.length > 1)?_c('span',{staticClass:\"myIcon icon iconfont\",on:{\"click\":function($event){return _vm.deleteChildValue(index,childIndex)}}},[_vm._v(\"\")]):_vm._e()],1)}),_vm._v(\" \"),_c('div',{staticClass:\"addLine\"},[_c('div',{on:{\"click\":function($event){return _vm.addChildValue(index)}}},[_c('span',{staticClass:\"icon iconfont\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',[_vm._v(\"添加规格\")])]),_vm._v(\" \"),(_vm.specsDataList.length > 1)?_c('div',{staticStyle:{\"margin-left\":\"0.4rem\"},on:{\"click\":function($event){return _vm.deleteSpecs(index)}}},[_c('span',{staticClass:\"icon iconfont\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',[_vm._v(\"删除\")])]):_vm._e()])],2)}),_vm._v(\" \"),_c('div',{staticClass:\"switchLine\"},[_c('group',[_c('x-switch',{attrs:{\"title\":\"支持退款\"},model:{value:(_vm.params.refundFlagValue),callback:function ($$v) {_vm.$set(_vm.params, \"refundFlagValue\", $$v)},expression:\"params.refundFlagValue\"}})],1)],1)],2),_vm._v(\" \"),_c('div',{staticClass:\"bottom\",on:{\"click\":_vm.getNextStep}},[_vm._v(\"下一步\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"transfer-dom\",rawName:\"v-transfer-dom\"}]},[_c('previewer',{ref:\"previewer\",attrs:{\"list\":_vm.previewList,\"options\":_vm.options}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"\\n        商品图片\"),_c('span',[_vm._v(\"(最多上传六张，建议使用横图)\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4bce8c74\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goodsManage/GoodsAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4bce8c74\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GoodsAdd.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4bce8c74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./GoodsAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4bce8c74\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4bce8c74\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goodsManage/GoodsAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}