webpackJsonp([21],{Fdzw:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("ALGc"),a=i("rHil"),n=i("Msp2"),o=(e.a,a.a,n.a,{name:"houseAdd",components:{XTextarea:e.a,Group:a.a,Actionsheet:n.a},data:function(){return{value:"",baseInfo:{},isShow1:!1,menuList1:[],isShow2:!1,menuList2:[]}},created:function(){this.$vux.loading.show({text:"加载中..."}),this.getBaseInfo()},methods:{deleteSpecial:function(t){this.baseInfo.customProjectInfo.splice(t,1)},getEquipment:function(){var t=this;this.$vux.loading.show({text:"加载中..."}),this.$http.fetchPost("/merchant/room/add/baseInfo",this.baseInfo).then(function(s){t.$vux.loading.hide(),t.$router.replace({name:"houseEquipment",query:{params:{id:s.data.data.id}}})})},reduce:function(t){if(1==t){if(0==this.baseInfo.apartmentInfo[0].room_quantity)return;this.baseInfo.apartmentInfo[0].room_quantity--}if(2==t){if(0==this.baseInfo.apartmentInfo[0].office_quantity)return;this.baseInfo.apartmentInfo[0].office_quantity--}if(3==t){if(0==this.baseInfo.apartmentInfo[0].kitchen_quantity)return;this.baseInfo.apartmentInfo[0].kitchen_quantity--}if(4==t){if(0==this.baseInfo.apartmentInfo[0].toilet_quantity)return;this.baseInfo.apartmentInfo[0].toilet_quantity--}},adder:function(t){1==t&&this.baseInfo.apartmentInfo[0].room_quantity++,2==t&&this.baseInfo.apartmentInfo[0].office_quantity++,3==t&&this.baseInfo.apartmentInfo[0].kitchen_quantity++,4==t&&this.baseInfo.apartmentInfo[0].toilet_quantity++},chooseToilet:function(t){t!=this.baseInfo.toiletStatus?this.baseInfo.toiletStatus=t:this.baseInfo.toiletStatus=0},chooseKitchen:function(t){t!=this.baseInfo.kitchenStatus?this.baseInfo.kitchenStatus=t:this.baseInfo.kitchenStatus=0},confirm1:function(t,s){s.isSelected=!0,this.baseInfo.roomTypeInfo=[s],this.baseInfo.roomTypeId=s.id,this.isShow1=!1},confirm2:function(t,s){s.isSelected=!0,this.baseInfo.bedModelInfo=[s],this.baseInfo.bedModelId=s.id,this.isShow1=!1},addSpecial:function(){var t=this;this.$vux.loading.show({text:"加载中..."}),this.$http.fetchPost("/merchant/room/add/baseInfo",this.baseInfo).then(function(s){t.$vux.loading.hide(),t.$router.replace({name:"addSpecial",query:{params:{postLongitude:t.baseInfo.longitude,postLatitude:t.baseInfo.latitude,id:s.data.data.id}}})})},goNextStep:function(){var t=this;this.$vux.loading.show({text:"加载中..."}),this.$http.fetchPost("/merchant/room/add/baseInfo",this.baseInfo).then(function(s){t.$vux.loading.hide(),t.$router.replace({name:"secondStep",query:{params:{postLongitude:t.baseInfo.longitude,postLatitude:t.baseInfo.latitude,id:s.data.data.id}}})})},getBack:function(){this.$router.go(-1)},chooseAddress:function(){var t=this;this.$vux.loading.show({text:"加载中..."}),this.$http.fetchPost("/merchant/room/add/baseInfo",this.baseInfo).then(function(s){t.$vux.loading.hide(),t.$router.replace({name:"houseMap",query:{params:{postLongitude:t.baseInfo.longitude,postLatitude:t.baseInfo.latitude,id:s.data.data.id}}})})},getBaseInfo:function(){var t=this,s="";this.$route.query.params&&(s=this.$route.query.params.id||""),this.$http.fetchGet("/merchant/room/get/baseInfo",{roomId:s}).then(function(s){setTimeout(function(){t.$vux.loading.hide()},500),t.baseInfo=s.data.data,t.baseInfo.merchantId=t.$store.state.merchantId,t.$route.query.params&&t.$route.query.params.postLocation&&(t.baseInfo.detailAddress=t.$route.query.params.postLocation,t.baseInfo.latitude=t.$route.query.params.postLatitude,t.baseInfo.longitude=t.$route.query.params.postLongitude),t.menuList1=s.data.data.roomTypeInfo,t.menuList1.map(function(s){s.label=s.name,s.isSelected&&(t.baseInfo.roomTypeInfo=[s],t.baseInfo.roomTypeId=s.id)}),t.menuList2=s.data.data.bedModelInfo,t.menuList2.map(function(s){s.label=s.name,s.isSelected&&(t.baseInfo.bedModelInfo=[s],t.baseInfo.bedModelId=s.id)});var i=[];t.baseInfo.facilitiesInfo.map(function(t){var s=!1,e=[];t.facilities.map(function(t){1==t.isSelected&&(s=!0,e.push(t))}),s&&(t.facilities=e,i.push(t))}),t.baseInfo.facilitiesInfo=i})}}}),c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"houseAdd"},[i("div",{staticClass:"iosHeader vux-1px-b"},[i("span",[t._v("第一步：基础信息")]),t._v(" "),i("span",{staticClass:"right headericon icon iconfont",on:{click:t.getBack}},[t._v("")])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"houseAdd_con"},[t._m(1),t._v(" "),i("div",{staticClass:"address"},[i("div",{staticClass:"tit"},[t._v("详细地址")]),t._v(" "),i("div",{staticClass:"addrIcon vux-1px-b",on:{click:t.chooseAddress}},[i("span",{domProps:{textContent:t._s(t.baseInfo.detailAddress)}}),t._v(" "),i("span",{staticClass:"icon iconfont"},[t._v("")])]),t._v(" "),i("div",{staticClass:"tit"},[t._v("楼、单元、门牌号")]),t._v(" "),i("div",{staticClass:"addrIcon houseAddAttrArea vux-1px-b"},[i("group",[i("x-textarea",{attrs:{placeholder:"请填写您的门牌号，此信息只对预定的客人展示","show-counter":!0,max:20},model:{value:t.baseInfo.houseNumber,callback:function(s){t.$set(t.baseInfo,"houseNumber",s)},expression:"baseInfo.houseNumber"}})],1)],1)]),t._v(" "),i("div",{staticClass:"defaultTitle"},[t._v("房型信息")]),t._v(" "),i("div",{staticClass:"defaultLine"},[i("div",{staticClass:"deraultLine_con vux-1px-b",on:{click:function(s){t.isShow1=!0}}},[i("span",[t._v("驿站类型")]),t._v(" "),i("div",{staticClass:"info"},[i("span",{domProps:{textContent:t._s(t.baseInfo.roomTypeInfo[0].isSelected?t.baseInfo.roomTypeInfo[0].name:"请选择")}}),t._v(" "),i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"40",xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 512 512"}},[i("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])])])]),t._v(" "),t._m(2),t._v(" "),i("div",{staticClass:"addLine"},[i("div",{staticClass:"childLine"},[i("div",{staticClass:"nums"},[i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-minus",attrs:{type:"ios-minus",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:function(s){return t.reduce(1)}}},[i("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H128v-17h256v17z"}})]),t._v(" "),i("span",{staticClass:"persons",domProps:{textContent:t._s(t.baseInfo.apartmentInfo[0].room_quantity)}}),t._v(" "),i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-plus",attrs:{type:"ios-plus",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:function(s){return t.adder(1)}}},[i("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H264v119h-17V265H128v-17h119V128h17v120h120v17z"}})])]),t._v(" "),i("div",{staticClass:"types"},[t._v("室")])]),t._v(" "),i("div",{staticClass:"childLine"},[i("div",{staticClass:"nums"},[i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-minus",attrs:{type:"ios-minus",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:function(s){return t.reduce(2)}}},[i("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H128v-17h256v17z"}})]),t._v(" "),i("span",{staticClass:"persons",domProps:{textContent:t._s(t.baseInfo.apartmentInfo[0].office_quantity)}}),t._v(" "),i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-plus",attrs:{type:"ios-plus",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:function(s){return t.adder(2)}}},[i("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H264v119h-17V265H128v-17h119V128h17v120h120v17z"}})])]),t._v(" "),i("div",{staticClass:"types"},[t._v("厅")])]),t._v(" "),i("div",{staticClass:"childLine"},[i("div",{staticClass:"nums"},[i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-minus",attrs:{type:"ios-minus",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:function(s){return t.reduce(3)}}},[i("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H128v-17h256v17z"}})]),t._v(" "),i("span",{staticClass:"persons",domProps:{textContent:t._s(t.baseInfo.apartmentInfo[0].kitchen_quantity)}}),t._v(" "),i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-plus",attrs:{type:"ios-plus",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:function(s){return t.adder(3)}}},[i("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H264v119h-17V265H128v-17h119V128h17v120h120v17z"}})])]),t._v(" "),i("div",{staticClass:"types"},[t._v("厨")])]),t._v(" "),i("div",{staticClass:"childLine"},[i("div",{staticClass:"nums"},[i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-minus",attrs:{type:"ios-minus",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:function(s){return t.reduce(4)}}},[i("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H128v-17h256v17z"}})]),t._v(" "),i("span",{staticClass:"persons",domProps:{textContent:t._s(t.baseInfo.apartmentInfo[0].toilet_quantity)}}),t._v(" "),i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-plus",attrs:{type:"ios-plus",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:function(s){return t.adder(4)}}},[i("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H264v119h-17V265H128v-17h119V128h17v120h120v17z"}})])]),t._v(" "),i("div",{staticClass:"types"},[t._v("卫")])])]),t._v(" "),i("div",{staticClass:"defaultTitle"},[t._v("整套面积（平米）")]),t._v(" "),i("div",{staticClass:"defaultLine vux-1px-b"},[i("div",{staticClass:"deraultLine_con",on:{click:t.getEquipment}},[i("span",[t._v("房间设施")]),t._v(" "),i("div",{staticClass:"info"},[i("span",[t._v("请选择")]),t._v(" "),i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"40",xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 512 512"}},[i("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])])])]),t._v(" "),i("div",{staticClass:"defaultLine vux-1px-b"},[i("div",{staticClass:"deraultLine_con",on:{click:function(s){t.isShow2=!0}}},[i("span",[t._v("床型")]),t._v(" "),i("div",{staticClass:"info"},[i("span",{domProps:{textContent:t._s(t.baseInfo.bedModelInfo[0].isSelected?t.baseInfo.bedModelInfo[0].name:"请选择")}},[t._v("请选择")]),t._v(" "),i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"40",xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 512 512"}},[i("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])])])]),t._v(" "),i("div",{staticClass:"selectLine vux-1px-b"},[i("div",{staticClass:"selectLineCon"},[i("span",[t._v("卫生间")]),t._v(" "),i("div",{staticClass:"info"},[i("span",{class:{active:1==t.baseInfo.toiletStatus},on:{click:function(s){return t.chooseToilet(1)}}},[t._v("独卫")]),t._v(" "),i("span",{class:{active:2==t.baseInfo.toiletStatus},on:{click:function(s){return t.chooseToilet(2)}}},[t._v("公共")]),t._v(" "),i("span",{class:{active:3==t.baseInfo.toiletStatus},on:{click:function(s){return t.chooseToilet(3)}}},[t._v("独卫+公共")])])])]),t._v(" "),i("div",{staticClass:"selectLine"},[i("div",{staticClass:"selectLineCon"},[i("span",[t._v("厨房")]),t._v(" "),i("div",{staticClass:"info"},[i("span",{class:{active:1==t.baseInfo.kitchenStatus},on:{click:function(s){return t.chooseKitchen(1)}}},[t._v("燃气灶")]),t._v(" "),i("span",{class:{active:2==t.baseInfo.kitchenStatus},on:{click:function(s){return t.chooseKitchen(2)}}},[t._v("电磁炉")]),t._v(" "),i("span",{class:{active:3==t.baseInfo.kitchenStatus},on:{click:function(s){return t.chooseKitchen(3)}}},[t._v("燃气灶+电磁炉")])])])]),t._v(" "),t._m(3),t._v(" "),t._l(t.baseInfo.customProjectInfo,function(s,e){return i("div",{staticClass:"special"},[i("div",{staticClass:"special_con"},[i("div",{staticClass:"image"},[i("img",{attrs:{src:s.image_path,alt:""}})]),t._v(" "),i("div",{staticClass:"info"},[i("span",{domProps:{textContent:t._s(s.title)}}),t._v(" "),i("span",{domProps:{textContent:t._s("¥"+s.price)}})]),t._v(" "),i("span",{staticClass:"deleteBtn icon iconfont",on:{click:function(s){return t.deleteSpecial(e)}}},[t._v("")])])])}),t._v(" "),i("div",{staticClass:"special_add",on:{click:t.addSpecial}},[i("span",{staticClass:"icon iconfont"},[t._v("")]),t._v(" "),i("span",[t._v("添加")])])],2),t._v(" "),i("div",{staticClass:"bottom",on:{click:t.goNextStep}},[t._v("下一步")]),t._v(" "),i("actionsheet",{staticClass:"myActionsheet",attrs:{menus:t.menuList1,"close-on-clicking-mask":!1,"show-cancel":""},on:{"on-click-menu":t.confirm1,"on-click-mask":function(s){t.isShow1=!1}},model:{value:t.isShow1,callback:function(s){t.isShow1=s},expression:"isShow1"}}),t._v(" "),i("actionsheet",{staticClass:"myActionsheet",attrs:{menus:t.menuList2,"close-on-clicking-mask":!1,"show-cancel":""},on:{"on-click-menu":t.confirm2,"on-click-mask":function(s){t.isShow2=!1}},model:{value:t.isShow2,callback:function(s){t.isShow2=s},expression:"isShow2"}})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"steps"},[s("span")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"houseAddressTitle"},[s("span",[this._v("房屋位置")]),this._v(" "),s("span",[this._v("请放心，为了保护您的隐私，在客人预定之前，我们不会展示您的门牌号码。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"defaultLine"},[s("div",{staticClass:"deraultLine_con vux-1px-b"},[s("span",[this._v("整套户型")]),this._v(" "),s("div",{staticClass:"info"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"houseAddressTitle",staticStyle:{background:"#fff"}},[s("span",[this._v("定制项目")]),this._v(" "),s("span",[this._v("可添加一些付费定制项目（如枕头、鲜花等），供客人下单时自助选择。定制的价格最终会加到房间的房费中。")])])}]};var r=i("VU/8")(o,c,!1,function(t){i("U6rF"),i("bp73")},"data-v-589438f0",null);s.default=r.exports},U6rF:function(t,s){},bp73:function(t,s){}});
//# sourceMappingURL=21.c3288a16eb06e6a33efa.js.map