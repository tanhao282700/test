{"version":3,"sources":["webpack:///./src/components/goodsManage/GoodsAddNextStep.vue","webpack:///./src/components/goodsManage/GoodsAddNextStep.vue?37da","webpack:///./src/components/goodsManage/GoodsAddNextStep.vue?7b47"],"names":["goodsManage_GoodsAddNextStep","VueCoreImageUpload","name","components","data","uploadUrl","images","dataList","text","type","url","methods","getBack","this","$router","go","imagechanged","index","_this","event","target","files","param","FormData","append","$http","fetchPost","headers","Content-Type","then","res","path","addLines","push","deleteInfo","splice","sendData","_this2","$vux","loading","show","id","$route","query","operate","detailsList","hide","code","txt","toast","position","message","getData","_this3","fetchGet","goodId","created","components_goodsManage_GoodsAddNextStep","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","xmlns","width","height","viewBox","on","click","d","_v","_l","item","directives","rawName","value","expression","placeholder","domProps","input","$event","composing","$set","_e","class","crop","isXhr","input-of-file","max-file-size","src","alt","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/31.b259da0fcb9e355333c2.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport VueCoreImageUpload from 'vue-core-image-upload'\nexport default {\n  name: 'goodsAddNextStep',\n  components: {\n    VueCoreImageUpload\n  },\n  data () {\n    return {\n      uploadUrl: 'http://zayzsh.zbtdvip.com/api/merchant/good/add/goods/baseInfo',\n      images: '',\n      dataList: [{\n        text: '',\n        type: 0\n      }, {\n        url: '',\n        type: 1\n      }]\n    }\n  },\n  methods: {\n    getBack () {\n      this.$router.go(-1)\n    },\n    imagechanged (index) {\n      let data = event.target.files[0]\n      let param = new FormData() // 创建form对象\n      param.append('files', data)// 通过append向form对象添加数据\n      this.$http.fetchPost('/merchant/common/image/upload', param, {\n        headers: {\n          'Content-Type': 'multipart/form-data; boundary=----WebKitFormBoundaryJBcoeGdBCguPERbU'\n        }\n      }).then((res) => {\n        this.images = res.data.data.path\n        this.dataList[index].url = res.data.data.path\n      })\n    },\n    addLines () {\n      this.dataList.push({\n        text: '',\n        type: 0\n      })\n      this.dataList.push({\n        url: '',\n        type: 1\n      })\n    },\n    deleteInfo (index) {\n      this.dataList.splice(index, 1)\n    },\n    sendData (type) {\n      this.$vux.loading.show({\n        text: '加载中...'\n      })\n      this.$http.fetchPost('/merchant/good/add/goods/detailInfo', {id: this.$route.query.id, operate: type, detailsList: this.dataList}).then((res) => {\n        this.$vux.loading.hide()\n          if (res.data.code === 200) {\n          let txt = ''\n          if (type === 0) {\n            txt = '商品保存成功'\n          } else {\n            txt = '商品发布成功'\n          }\n          this.$vux.toast.show({\n            text: txt,\n            position: 'middle'\n          })\n          this.$router.go(-2)\n        } else {\n          this.$vux.toast.show({\n            text: res.data.message,\n            position: 'middle',\n            type: 'warn'\n          })\n        }\n      })\n    },\n    getData () {\n      this.$http.fetchGet('/merchant/good/get/detail', {goodId: this.$route.query.id}).then((res) => {\n        this.dataList = res.data.data.detailsList\n      })\n    }\n  },\n  created () {\n    if (this.$route.query.id) {\n      this.getData()\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/goodsManage/GoodsAddNextStep.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nextStep\"},[_c('div',{staticClass:\"iosHeader vux-1px-b\"},[_c('svg',{staticClass:\"vux-x-icon vux-x-icon-ios-arrow-left left\",attrs:{\"type\":\"ios-arrow-left\",\"size\":\"60\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"60\",\"height\":\"60\",\"viewBox\":\"0 0 512 512\"},on:{\"click\":_vm.getBack}},[_c('path',{attrs:{\"d\":\"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z\"}})]),_vm._v(\" \"),_c('span',[_vm._v(\"添加商品\")])]),_vm._v(\" \"),_c('div',{staticClass:\"con\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"商品详情\")]),_vm._v(\" \"),_vm._l((_vm.dataList),function(item,index){return _c('div',{staticClass:\"items\"},[(item.type === 0)?_c('div',{staticClass:\"txtArea child\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.text),expression:\"item.text\"}],attrs:{\"placeholder\":\"请输入文字\"},domProps:{\"value\":(item.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"text\", $event.target.value)}}}),_vm._v(\" \"),_c('span',{staticClass:\"myIcon icon iconfont\",on:{\"click\":function($event){return _vm.deleteInfo(index)}}},[_vm._v(\"\")])]):_vm._e(),_vm._v(\" \"),(item.type === 1)?_c('div',{staticClass:\"picArea child\"},[_c('span',{staticClass:\"myIcon icon iconfont\",on:{\"click\":function($event){return _vm.deleteInfo(index)}}},[_vm._v(\"\")]),_vm._v(\" \"),_c('div',{staticClass:\"pic_con\"},[_c('vue-core-image-upload',{class:['btn', 'btn-primary'],attrs:{\"crop\":false,\"isXhr\":false,\"input-of-file\":\"file\",\"max-file-size\":5242880,\"url\":_vm.uploadUrl},on:{\"imagechanged\":function($event){return _vm.imagechanged(index)}}},[_c('div',{staticClass:\"pic_btn\"},[(!item.url)?_c('span'):_vm._e(),_vm._v(\" \"),(!item.url)?_c('span',[_vm._v(\"上传照片\")]):_vm._e(),_vm._v(\" \"),(item.url)?_c('img',{staticClass:\"realPic\",attrs:{\"src\":item.url,\"alt\":\"\"}}):_vm._e()])])],1)]):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"addBtn\",on:{\"click\":_vm.addLines}},[_c('span',{staticClass:\"icon iconfont\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',[_vm._v(\"继续添加\")])])],2),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('span',{on:{\"click\":function($event){return _vm.sendData(0)}}},[_vm._v(\"保存但不发布\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.sendData(1)}}},[_vm._v(\"立即发布\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77903b20\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goodsManage/GoodsAddNextStep.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77903b20\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GoodsAddNextStep.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsAddNextStep.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsAddNextStep.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77903b20\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsAddNextStep.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-77903b20\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goodsManage/GoodsAddNextStep.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}