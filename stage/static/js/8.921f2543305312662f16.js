webpackJsonp([8],{"3ZxN":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("GQaK"),n=a("EmH9"),i=(n.a,{name:"Mine",components:{CheckIcon:n.a},data:function(){return{pulldownMsg:"下拉刷新",pullupMsg:"加载更多",alertHook:"none",isMoreData:!0,moneyInfo:{balance:"",withDrawCash:"",items:[]},params:{merchantId:"",startDate:"",endDate:"",status:1,page:1,pageSize:10}}},created:function(){this.$vux.loading.show({text:"加载中..."}),this.params.merchantId=this.$store.state.merchantId,this.getData()},methods:{getMoney:function(){this.$router.push({name:"getMoney"})},test:function(t){this.params.status=t,this.refreshData()},getBack:function(){this.$router.go(-1)},getData:function(){var t=this;this.$http.fetchGet("/merchant/center/get/balance/detail",this.params).then(function(e){t.moneyInfo=e.data.data,t.moneyInfo.items.length===t.params.pageSize?t.isMoreData=!0:(t.isMoreData=!1,t.$nextTick(function(){t.$refs.list_con.offsetHeight>t.$refs.content.offsetHeight&&(t.$refs.content.style.height=t.$refs.list_con.offsetHeight+2+"px")})),setTimeout(function(){t.$vux.loading.hide()},500),t.initScroll()})},myMoney:function(){this.$router.push({name:"myMoney"})},certification:function(){this.$router.push({name:"certification"})},goSetting:function(){this.$router.push({name:"Setting"})},initScroll:function(){var t=this;this.$nextTick(function(){t.scroll=new s.a(t.$refs.wrapper,{probeType:1,click:!0}),t.scroll.on("scroll",function(e){e.y>30&&(t.pulldownMsg="释放立即刷新")}),t.scroll.on("touchEnd",function(e){e.y>30?t.refreshData():e.y<t.scroll.maxScrollY-30&&t.loadMoreData()})})},refreshData:function(){var t=this;this.$refs.content.style.height="auto",this.pullupMsg="加载中。。。",this.params.page=1,this.$http.fetchGet("/merchant/center/get/balance/detail",this.params).then(function(e){t.moneyInfo=e.data.data,t.moneyInfo.items.length===t.params.pageSize?t.isMoreData=!0:(t.isMoreData=!1,t.$nextTick(function(){t.$refs.list_con.offsetHeight>t.$refs.content.offsetHeight&&(t.$refs.content.style.height=t.$refs.list_con.offsetHeight+2+"px")})),t.pullupMsg="加载更多",t.scroll.refresh()})},loadMoreData:function(){var t=this;this.moneyInfo.items.length<this.params.pageSize||this.moneyInfo.items.length<this.params.pageSize*this.params.page?this.isMoreData=!1:(this.params.page++,this.$http.fetchGet("/merchant/center/get/balance/detail",this.params).then(function(e){t.moneyInfo.items.length===t.params.pageSize?t.isMoreData=!0:t.isMoreData=!1,e.data.data.items.length>0?e.data.data.goodsList.map(function(e){t.moneyInfo.items.push(e)}):t.isMoreData=!1,t.pulldownMsg="下拉刷新",t.scroll.refresh()}))}}}),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myMoney"},[a("div",{staticClass:"myMoney_top"},[a("div",{staticClass:"happen_bg"}),t._v(" "),a("div",{staticClass:"iosHeader vux-1px-b"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-left left",attrs:{type:"ios-arrow-left",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:t.getBack}},[a("path",{attrs:{d:"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"}})]),t._v(" "),a("span",[t._v("我的余额")])]),t._v(" "),a("div",{staticClass:"money_con"},[t._v("我的余额(元)")]),t._v(" "),a("div",{staticClass:"money_con money_con2",domProps:{textContent:t._s(t.moneyInfo.balance)}}),t._v(" "),a("div",{staticClass:"money_con money_con3",domProps:{textContent:t._s("提现中："+t.moneyInfo.withDrawCash)}}),t._v(" "),a("div",{staticClass:"tixian"},[a("span",[t._v("充值")]),t._v(" "),a("span",{on:{click:t.getMoney}},[t._v("提现")])])]),t._v(" "),a("div",{staticStyle:{flex:"1",display:"flex","flex-direction":"column"}},[a("div",{staticClass:"item_title"},[a("span",[t._v("余额明细")]),t._v(" "),a("div",{staticClass:"status",staticStyle:{display:"flex"}},[a("div",{on:{click:function(e){return t.test(1)}}},[a("check-icon",{attrs:{value:1==t.params.status},on:{"update:value":function(e){return t.$set(t.params,"status == 1",e)}}},[t._v("已入账")])],1),t._v(" "),a("div",{on:{click:function(e){return t.test(0)}}},[a("check-icon",{attrs:{value:0==t.params.status},on:{"update:value":function(e){return t.$set(t.params,"status == 0",e)}}},[t._v("未入账")])],1)])]),t._v(" "),a("div",{ref:"list_con",staticClass:"list_con"},[a("div",{ref:"wrapper",staticClass:"wrapper"},[a("div",{staticClass:"bscroll-container"},[a("div",{staticClass:"top-tip"},[a("span",{staticClass:"refresh-hook"},[t._v(t._s(t.pulldownMsg))])]),t._v(" "),a("ul",{ref:"content",staticClass:"content"},[t._l(t.moneyInfo.items,function(e,s){return a("li",{key:s,staticClass:"setting_item_two_line"},[a("div",{staticClass:"left"},[a("div",{staticClass:"content"},[t._v(t._s(e.amtDes))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.txDate))])]),t._v(" "),a("div",{staticClass:"info orange"},[a("span",[t._v(t._s("+"+e.amt))])])])}),t._v(" "),t.isMoreData?t._e():a("div",{staticClass:"no_data"},[a("span"),t._v(" "),a("span",[t._v("暂无更多数据")]),t._v(" "),a("span")])],2),t._v(" "),t.isMoreData?a("div",{staticClass:"bottom-tip"},[a("span",{staticClass:"loading-hook"},[t._v(t._s(t.pullupMsg))])]):t._e()])]),t._v(" "),a("div",{staticClass:"alert-hook",style:{display:t.alertHook}},[t._v("刷新成功")])])])])},staticRenderFns:[]};var c=a("VU/8")(i,o,!1,function(t){a("Yqnj"),a("9o0h")},"data-v-ee0fa2e0",null);e.default=c.exports},"9o0h":function(t,e){},EmH9:function(t,e,a){"use strict";var s=a("oWtu"),n=(s.a,Boolean,String,{name:"check-icon",components:{Icon:s.a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}}),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vux-check-icon",on:{click:t.updateValue}},[a("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===t.type&&t.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),t._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===t.type&&t.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),t._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:!t.value,expression:"!value"}],attrs:{type:"circle"}}),t._v(" "),a("span",[t._t("default")],2)],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(t){a("p974")},null,null);e.a=o.exports},Yqnj:function(t,e){},p974:function(t,e){}});
//# sourceMappingURL=8.921f2543305312662f16.js.map