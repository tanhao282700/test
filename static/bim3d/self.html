<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>iframe Window</title>
  <style>
    body {
      background-color: #D53C2F;
      color: white;
      width: 500px;
      height:500px;
    }
  </style>
</head>
<body>

<h1>Hello there, i'm an iframe</h1>
<button type="button" onclick="test()">子传父</button>

<script>
  // 向父vue页面发送信息
  window.parent.postMessage({
    cmd: 'returnHeight',
    params: {
      success: true,
      data: document.body.scrollHeight + 'px'
    }
  }, '*');

  // 向父vue页面发送信息
  function test() {
    window.parent.postMessage({
      cmd: 'returnFormJson',
      params: {
        success:'成功',
        data:'数据（子页面）'
      }
    }, '*');
  }

  // 接受父页面发来的信息
  window.addEventListener("message", function(event){
    var data = event.data;
    switch (data.cmd) {
      case 'getFormJson':
        // 处理业务逻辑
        console.log('我在ifarme子页面，我得到了:'+data.params.data)
        break;


    }
  });


</script>
</body>
</html>
